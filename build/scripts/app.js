!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e,f=a("./states/Boot.js"),g=d(f),h=a("./states/Preload.js"),i=d(h),j=a("./states/Game.js"),k=d(j),l=a("./states/Level1.js"),m=d(l),n=a("./states/Level2.js"),o=d(n),p=a("./states/GameOver.js"),q=d(p);window.onload=function(){e=new Phaser.Game(1024,768,Phaser.AUTO,"game"),e.state.add("boot",g["default"]),e.state.add("preload",i["default"]),e.state.add("game",k["default"]),e.state.add("Level1",m["default"]),e.state.add("Level2",o["default"]),e.state.add("GameOver",q["default"]),e.state.start("boot")}},{"./states/Boot.js":5,"./states/Game.js":6,"./states/GameOver.js":7,"./states/Level1.js":8,"./states/Level2.js":9,"./states/Preload.js":10}],2:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;h=j=i=void 0,d=!1;var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},h=function(a){function b(a,c,e,f){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a,c,e,"mouse",0),this.speed=200,this.jumpPower=600,this.stepLimit=90,this.facing=0,this.currentStep=Math.floor(Math.random()*this.stepLimit),this.player=f,this.animations.add("stand",[0]),this.swingAnimation=this.animations.add("swing",[0,1,2,3,4,5,6,7]),this.animations.add("run",[8,9,10,11,12,13,14]),this.game.physics.enable(this,Phaser.Physics.ARCADE),this.body.collideWorldBounds=!0,this.body.drag={x:600,y:0},this.body.setSize(60,80),this.anchor.setTo(.5,1),this.animations.play("run",9,!0)}return e(b,a),f(b,[{key:"update",value:function(){var a=Phaser.Math.distance(this.x,this.y,this.player.x,this.player.y);Math.round(a)<210&&(this.animations.play("swing",9),this.x<this.player.x?this.scale.x=1:this.scale.x=-1),this.swingAnimation.isPlaying||(this.currentStep++,this.body.velocity.x=this.speed,this.animations.play("run",9,!0),this.scale.x=this.speed>0?1:-1,this.currentStep>=this.stepLimit&&(this.speed*=-1,this.currentStep=0))}}]),b}(Phaser.Sprite);c["default"]=h,b.exports=c["default"]},{}],3:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;h=j=i=void 0,d=!1;var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},h=function(a){function b(a,c,e,f){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a,f),this.create(0,0,c);var h={font:"30px Arial",align:"center",fill:"#fff"};this.txtValue=new Phaser.Text(this.game,55,55,e.toString(),h),this.txtValue.anchor.setTo(.5,.5),this.add(this.txtValue)}return e(b,a),f(b,[{key:"setValue",value:function(a){this.txtValue.text=a.toString()}}]),b}(Phaser.Group);c["default"]=h,b.exports=c["default"]},{}],4:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;h=j=i=void 0,d=!1;var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},h=function(a){function b(a,c,e){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a,c,e,"player",0),this.speed=400,this.airSpeed=300,this.jumpPower=600,this.inAir=!0,this.hitGround=!1,this.animations.add("idle",[0,1,2,3,4,3,2,1]),this.animations.add("jump",[0,5,6,7,8,9]),this.landAnimation=this.animations.add("land",[7,6,5]),this.animations.add("run",[11,12,13,14,15,16,17]),this.game.physics.enable(this,Phaser.Physics.ARCADE),this.body.collideWorldBounds=!0,this.body.drag={x:600,y:0},this.body.setSize(60,100),this.anchor.setTo(.5,1),this.cursors=this.game.input.keyboard.createCursorKeys(),this.jumpButton=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.jumpButton.onDown.add(this.jump,this),this.animations.play("idle",9,!0),this.flashEffect=this.game.add.tween(this).to({alpha:0},50,Phaser.Easing.Bounce.Out).to({alpha:.8},50,Phaser.Easing.Bounce.Out).to({alpha:1},150,Phaser.Easing.Circular.Out)}return e(b,a),f(b,[{key:"animationState",value:function(){this.hitGround?this.animations.play("land",15):this.inAir||this.landAnimation.isPlaying||(Math.abs(this.body.velocity.x)>4?this.animations.play("run",9,!0):this.body.onFloor()&&this.animations.play("idle",9,!0))}},{key:"update",value:function(){this.hitGround=!1;var a=this.inAir;this.inAir=!this.body.onFloor(),this.inAir!=a&&this.body.velocity>0&&(this.hitGround=!0),this.animationState(),this.speedToUse=this.inAir?this.airSpeed:this.speed,this.cursors.left.isDown&&(this.scale.x=-1,this.body.velocity.x=-this.speedToUse),this.cursors.right.isDown&&(this.scale.x=1,this.body.velocity.x=this.speedToUse)}},{key:"jump",value:function(){1==this.body.onFloor()?(this.body.velocity.y=-this.jumpPower,this.animations.play("jump",30),this.doubleJump=!0):1==this.doubleJump&&(console.log(this.doubleJump),this.doubleJump=!1,this.body.velocity.y=-this.jumpPower,this.animations.play("jump",30))}},{key:"flash",value:function(){this.flashEffect.isRunning||this.flashEffect.start()}}]),b}(Phaser.Sprite);c["default"]=h,b.exports=c["default"]},{}],5:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"preload",value:function(){this.load.image("preloader","assets/images/loading_bar.png")}},{key:"create",value:function(){this.game.input.maxPointers=1,this.game.state.start("preload")}}]),a}();c["default"]=f,b.exports=c["default"]},{}],6:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a){function b(){d(this,b),null!=a&&a.apply(this,arguments)}return e(b,a),f(b,[{key:"create",value:function(){this.game.score=0,this.game.state.start("Level1")}}]),b}(Phaser.State);c["default"]=g,b.exports=c["default"]},{}],7:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a){function b(){d(this,b),null!=a&&a.apply(this,arguments)}return e(b,a),f(b,[{key:"create",value:function(){this.add.sprite(0,0,"gameover_bg");var a={font:"30px Arial",align:"center",fill:"#fff"};this.txtValue=this.add.text(512,534,this.game.score.toString()+" points",a),this.txtValue.anchor.setTo(.5,.5),this.game.input.onDown.addOnce(this.switchState,this)}},{key:"switchState",value:function(){this.game.score=0,this.state.start("Level1")}}]),b}(Phaser.State);c["default"]=g,b.exports=c["default"]},{}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;h=j=i=void 0,d=!1;var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},i=a("../prefabs/Player.js"),j=d(i),k=a("../prefabs/Mouse.js"),l=d(k),m=a("../prefabs/NumberBox.js"),n=d(m),o=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this)}return f(b,a),g(b,[{key:"create",value:function(){this.physics.startSystem(Phaser.Physics.ARCADE),this.physics.arcade.gravity.y=800,this.map=this.add.tilemap("level1"),this.map.addTilesetImage("gamebg"),this.bg=this.map.createLayer("bg"),this.bg.scrollFactorX=.6,this.bg.scrollFactorY=.6,this.map.addTilesetImage("Tiles"),this.layer=this.map.createLayer("Level"),this.layer.resizeWorld(),this.map.setCollisionBetween(6,25,!0,this.layer),this.coins=this.add.group(),this.coins.physicsBodyType=Phaser.Physics.ARCADE,this.coins.enableBody=!0,this.map.createFromObjects("Collectables",41,"coin",null,!0,!1,this.coins),this.coins.setAll("body.gravity",0),this.doors=this.add.group(),this.doors.physicsBodyType=Phaser.Physics.ARCADE,this.doors.enableBody=!0,this.map.createFromObjects("Doors",242,"sign",null,!0,!1,this.doors),this.doors.setAll("body.gravity",0),this.map.createFromObjects("Player",243,null,null,!0,!1,this.world,j["default"]),this.player=this.world.getTop(),this.enemies=this.add.group(),this.map.createFromObjects("Enemies",25,null,null,!0,!1,this.enemies,l["default"]),this.enemies.setAll("player",this.player),this.UIGroup=this.add.group(),this.scoreField=new n["default"](this.game,"scoreholder",this.game.score,this.UIGroup),this.scoreField.fixedToCamera=!0,this.sfx=this.add.audioSprite("sfx"),this.camera.follow(this.player)}},{key:"update",value:function(){this.physics.arcade.collide(this.player,this.layer),this.physics.arcade.collide(this.enemies,this.layer),this.physics.arcade.overlap(this.player,this.coins,this.collectCoin,null,this),this.physics.arcade.overlap(this.player,this.doors,this.hitDoor,null,this),this.physics.arcade.collide(this.player,this.enemies,this.hitEnemy,null,this)}},{key:"collectCoin",value:function(a,b){b.kill(),this.game.score++,this.scoreField.setValue(this.game.score),this.sfx.play("coin")}},{key:"hitDoor",value:function(a,b){this.game.state.clearCurrentState(),this.game.state.start("Level2")}},{key:"hitEnemy",value:function(a,b){a.flashEffect.isRunning||(a.flash(),this.sfx.play("hit"),this.game.score>0&&(this.game.score--,this.scoreField.setValue(this.game.score)))}}]),b}(Phaser.State);c["default"]=o,b.exports=c["default"]},{"../prefabs/Mouse.js":2,"../prefabs/NumberBox.js":3,"../prefabs/Player.js":4}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;h=j=i=void 0,d=!1;var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},i=a("../prefabs/Player.js"),j=d(i),k=a("../prefabs/Mouse.js"),l=d(k),m=a("../prefabs/NumberBox.js"),n=d(m),o=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this)}return f(b,a),g(b,[{key:"create",value:function(){this.physics.startSystem(Phaser.Physics.ARCADE),this.physics.arcade.gravity.y=800,this.map=this.add.tilemap("level2"),this.map.addTilesetImage("gamebg"),this.bg=this.map.createLayer("bg"),this.bg.scrollFactorX=.6,this.bg.scrollFactorY=.6,this.map.addTilesetImage("Tiles"),this.layer=this.map.createLayer("Level"),this.layer.resizeWorld(),this.map.setCollisionBetween(6,25,!0,this.layer),this.coins=this.add.group(),this.coins.physicsBodyType=Phaser.Physics.ARCADE,this.coins.enableBody=!0,this.map.createFromObjects("Collectables",241,"coin",null,!0,!1,this.coins),this.coins.setAll("body.gravity",0),this.doors=this.add.group(),this.doors.physicsBodyType=Phaser.Physics.ARCADE,this.doors.enableBody=!0,this.map.createFromObjects("Doors",242,"sign",null,!0,!1,this.doors),this.doors.setAll("body.gravity",0),this.map.createFromObjects("Player",243,null,null,!0,!1,this.world,j["default"]),this.player=this.world.getTop(),this.enemies=this.add.group(),this.map.createFromObjects("Enemies",225,null,null,!0,!1,this.enemies,l["default"]),this.enemies.setAll("player",this.player),this.UIGroup=this.add.group(),this.scoreField=new n["default"](this.game,"scoreholder",this.game.score,this.UIGroup),this.scoreField.fixedToCamera=!0,this.sfx=this.add.audioSprite("sfx"),this.camera.follow(this.player)}},{key:"update",value:function(){this.physics.arcade.collide(this.player,this.layer),this.physics.arcade.collide(this.enemies,this.layer),this.physics.arcade.overlap(this.player,this.doors,this.hitDoor,null,this),this.physics.arcade.overlap(this.player,this.coins,this.collectCoin,null,this),this.physics.arcade.collide(this.player,this.enemies,this.hitEnemy,null,this)}},{key:"collectCoin",value:function(a,b){b.kill(),this.game.score++,this.scoreField.setValue(this.game.score),this.sfx.play("coin")}},{key:"hitDoor",value:function(a,b){this.game.state.start("GameOver")}},{key:"hitEnemy",value:function(a,b){a.flashEffect.isRunning||(a.flash(),this.sfx.play("hit"),this.game.score>0&&(this.game.score--,this.scoreField.setValue(this.game.score)))}}]),b}(Phaser.State);c["default"]=o,b.exports=c["default"]},{"../prefabs/Mouse.js":2,"../prefabs/NumberBox.js":3,"../prefabs/Player.js":4}],10:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.asset=null,this.ready=!1}return e(a,[{key:"preload",value:function(){this.load.image("loading_bg","assets/images/loading_bg.jpg")}},{key:"create",value:function(){this.add.sprite(0,0,"loading_bg"),this.asset=this.add.sprite(this.game.width/2,this.game.height/2,"preloader"),this.asset.anchor.setTo(.5,.5),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.load.setPreloadSprite(this.asset),this.load.spritesheet("player","assets/images/sprites/FoxSprite.png",210,210),this.load.spritesheet("mouse","assets/images/sprites/MouseSprite.png",165,160),this.load.image("gamebg","assets/images/Background.png"),this.load.tilemap("level1","assets/levels/level1.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("level2","assets/levels/level2.json",null,Phaser.Tilemap.TILED_JSON),this.load.image("Tiles","assets/images/Tiles.png"),this.load.image("coin","assets/images/coin.png"),this.load.image("scoreholder","assets/images/scoreholder.png"),this.load.image("sign","assets/images/sign.png"),this.load.image("gameover_bg","assets/images/gameover_bg.png"),this.load.audiosprite("sfx",["assets/sounds/sfx.mp3","assets/sounds/sfx.ogg"],"assets/sounds/sfx.json"),this.load.start()}},{key:"update",value:function(){this.ready&&this.game.state.start("game")}},{key:"onLoadComplete",value:function(){this.ready=!0}}]),a}();c["default"]=f,b.exports=c["default"]},{}]},{},[1]);